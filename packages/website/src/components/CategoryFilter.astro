---
import type { Category } from '../data/categories';

interface Props {
  categories: Category[];
  selectedCategory: string | null;
}

const { categories, selectedCategory } = Astro.props;
---

<div class="category-filter">
  <button
    class={`category-button ${selectedCategory === null ? 'active' : ''}`}
    data-category="all"
  >
    全部
  </button>
  {categories.map(category => (
    <button
      class={`category-button ${selectedCategory === category.id ? 'active' : ''}`}
      data-category={category.id}
    >
      <span class="category-icon">{category.icon}</span>
      <span class="category-name">{category.name}</span>
    </button>
  ))}
</div>

<style>
  .category-filter {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    justify-content: center;
    margin-bottom: var(--spacing-lg);
  }

  .category-button {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs) var(--spacing-sm);
    background: transparent;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-full);
    font-size: 0.9375rem;
    color: var(--color-text-secondary);
    cursor: pointer;
    transition: all 0.2s;
    font-family: var(--font-sans);
  }

  .category-button:hover {
    border-color: var(--color-primary);
    color: var(--color-text);
  }

  .category-button.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: var(--color-white);
  }

  .category-icon {
    font-size: 1rem;
  }
</style>
